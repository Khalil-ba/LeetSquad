def calculate_accuracy(candidate):
    """
    Calculate accuracy by running all test cases and counting pass/fail
    Returns: (passed_count, total_count, accuracy_percentage)
    """
    passed = 0
    total = 0
    
    total += 1
    try:
        result = candidate(s = "aabbcc??") == "aabbccde"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "aabbcc??") == "aabbccde": {e}')
    
    total += 1
    try:
        result = candidate(s = "abcabcabc???") == "abcabcabcdef"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abcabcabc???") == "abcabcabcdef": {e}')
    
    total += 1
    try:
        result = candidate(s = "a????b") == "acdefb"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a????b") == "acdefb": {e}')
    
    total += 1
    try:
        result = candidate(s = "a") == "a"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a") == "a": {e}')
    
    total += 1
    try:
        result = candidate(s = "????????") == "abcdefgh"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "????????") == "abcdefgh": {e}')
    
    total += 1
    try:
        result = candidate(s = "abacabadabacaba") == "abacabadabacaba"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abacabadabacaba") == "abacabadabacaba": {e}')
    
    total += 1
    try:
        result = candidate(s = "abcdefghijklmnopqrstuvwxyz?") == "abcdefghijklmnopqrstuvwxyza"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abcdefghijklmnopqrstuvwxyz?") == "abcdefghijklmnopqrstuvwxyza": {e}')
    
    total += 1
    try:
        result = candidate(s = "abc?de?") == "abcfdeg"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abc?de?") == "abcfdeg": {e}')
    
    total += 1
    try:
        result = candidate(s = "zzzz????") == "zzzzabcd"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "zzzz????") == "zzzzabcd": {e}')
    
    total += 1
    try:
        result = candidate(s = "a?????") == "abcdef"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a?????") == "abcdef": {e}')
    
    total += 1
    try:
        result = candidate(s = "??????????") == "abcdefghij"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "??????????") == "abcdefghij": {e}')
    
    total += 1
    try:
        result = candidate(s = "aabbcc?") == "aabbccd"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "aabbcc?") == "aabbccd": {e}')
    
    total += 1
    try:
        result = candidate(s = "???") == "abc"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "???") == "abc": {e}')
    
    total += 1
    try:
        result = candidate(s = "????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????") == "aaaaaaaaabbbbbbbbbcccccccccdddddddddeeeeeeeeefffffffffggggggggghhhhhhhhhiiiiiiiiijjjjjjjjjkkkkkkkkklllllllllmmmmmmmmmnnnnnnnnnooooooooopppppppppqqqqqqqqqrrrrrrrrrssssssssstttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxyyyyyyyyzzzzzzzz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????") == "aaaaaaaaabbbbbbbbbcccccccccdddddddddeeeeeeeeefffffffffggggggggghhhhhhhhhiiiiiiiiijjjjjjjjjkkkkkkkkklllllllllmmmmmmmmmnnnnnnnnnooooooooopppppppppqqqqqqqqqrrrrrrrrrssssssssstttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxyyyyyyyyzzzzzzzz": {e}')
    
    total += 1
    try:
        result = candidate(s = "a????b????c????") == "adefgbhijkclmno"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a????b????c????") == "adefgbhijkclmno": {e}')
    
    total += 1
    try:
        result = candidate(s = "a?a?") == "abac"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a?a?") == "abac": {e}')
    
    total += 1
    try:
        result = candidate(s = "abc??") == "abcde"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abc??") == "abcde": {e}')
    
    total += 1
    try:
        result = candidate(s = "z?y?x?w?v?u?t?s?r?q?p?o?n?m?l?k?j?i?h?g?f?e?d?c?b?a") == "zaybxcwdveuftgshriqjpkolnmmnlokpjqirhsgtfuevdwcxbya"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "z?y?x?w?v?u?t?s?r?q?p?o?n?m?l?k?j?i?h?g?f?e?d?c?b?a") == "zaybxcwdveuftgshriqjpkolnmmnlokpjqirhsgtfuevdwcxbya": {e}')
    
    total += 1
    try:
        result = candidate(s = "?????abc?????def?????ghi?????jkl?????mno?????pqr?????stu?????vwx?????yz?????") == "aabbcabccddeedefffgghghihiijjjklkkllmmnomnnoopqrppqqrsturssttvwxuuvvwyzwxxyz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "?????abc?????def?????ghi?????jkl?????mno?????pqr?????stu?????vwx?????yz?????") == "aabbcabccddeedefffgghghihiijjjklkkllmmnomnnoopqrppqqrsturssttvwxuuvvwyzwxxyz": {e}')
    
    total += 1
    try:
        result = candidate(s = "abc?def?ghi?") == "abcjdefkghil"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abc?def?ghi?") == "abcjdefkghil": {e}')
    
    total += 1
    try:
        result = candidate(s = "????????????????????????????????????????") == "aabbccddeeffgghhiijjkkllmmnnopqrstuvwxyz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "????????????????????????????????????????") == "aabbccddeeffgghhiijjkkllmmnnopqrstuvwxyz": {e}')
    
    total += 1
    try:
        result = candidate(s = "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzz???") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzzabc"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzz???") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzzabc": {e}')
    
    total += 1
    try:
        result = candidate(s = "zyxwvutsrqponmlkjihgfedcba????????") == "zyxwvutsrqponmlkjihgfedcbaabcdefgh"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "zyxwvutsrqponmlkjihgfedcba????????") == "zyxwvutsrqponmlkjihgfedcbaabcdefgh": {e}')
    
    total += 1
    try:
        result = candidate(s = "a?b?c?d?e?f?g?h?i?j?k?l?m?n?o?p?q?r?s?t?u?v?w?x?y?z?") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a?b?c?d?e?f?g?h?i?j?k?l?m?n?o?p?q?r?s?t?u?v?w?x?y?z?") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz": {e}')
    
    total += 1
    try:
        result = candidate(s = "abcabcabcabcabcabcabcabcabcabc???") == "abcabcabcabcabcabcabcabcabcabcdef"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abcabcabcabcabcabcabcabcabcabc???") == "abcabcabcabcabcabcabcabcabcabcdef": {e}')
    
    total += 1
    try:
        result = candidate(s = "xyz?xyz?xyz?") == "xyzaxyzbxyzc"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "xyz?xyz?xyz?") == "xyzaxyzbxyzc": {e}')
    
    total += 1
    try:
        result = candidate(s = "a?????b?????c?????d?????e?????f?????g?????h?????i?????j?????k?????l?????m?????n?????o?????p?????q?????r?????s?????t?????u?????v?????w?????x?????y?????z?????") == "aaaaaabbbbbbccccccddddddeeeeeeffffffgggggghhhhhhiiiiiijjjjjjkkkkkkllllllmmmmmmnnnnnnooooooppppppqqqqqqrrrrrrssssssttttttuuuuuuvvvvvvwwwwwwxxxxxxyyyyyyzzzzzz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a?????b?????c?????d?????e?????f?????g?????h?????i?????j?????k?????l?????m?????n?????o?????p?????q?????r?????s?????t?????u?????v?????w?????x?????y?????z?????") == "aaaaaabbbbbbccccccddddddeeeeeeffffffgggggghhhhhhiiiiiijjjjjjkkkkkkllllllmmmmmmnnnnnnooooooppppppqqqqqqrrrrrrssssssttttttuuuuuuvvvvvvwwwwwwxxxxxxyyyyyyzzzzzz": {e}')
    
    total += 1
    try:
        result = candidate(s = "abc?????def?????ghi?????") == "abcjklmndefopqrsghituvwx"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abc?????def?????ghi?????") == "abcjklmndefopqrsghituvwx": {e}')
    
    total += 1
    try:
        result = candidate(s = "a?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?f") == "agbgcgdhehfahbicidiejfajbjckdkekfalblcmdmenfanbocodpepfaqbqcrdresfasbtctdueufavbvcwdwexfaxbycydzezf"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "a?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?f") == "agbgcgdhehfahbicidiejfajbjckdkekfalblcmdmenfanbocodpepfaqbqcrdresfasbtctdueufavbvcwdwexfaxbycydzezf": {e}')
    
    total += 1
    try:
        result = candidate(s = "aaaabbbbccccdddd????") == "aaaabbbbccccddddefgh"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "aaaabbbbccccdddd????") == "aaaabbbbccccddddefgh": {e}')
    
    total += 1
    try:
        result = candidate(s = "aaaa?bbbb?cccc?dddd?eeee?ffff?gggg?hhhh?iiii?jjjj?kkkk?llll?mmmm?nnnn?oooo?pppp?qqqq?rrrr?ssss?tttt?uuuu?vvvv?wwww?xxxx?yyyy?zzzz?") == "aaaaabbbbbcccccdddddeeeeefffffggggghhhhhiiiiijjjjjkkkkklllllmmmmmnnnnnooooopppppqqqqqrrrrrssssstttttuuuuuvvvvvwwwwwxxxxxyyyyyzzzzz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "aaaa?bbbb?cccc?dddd?eeee?ffff?gggg?hhhh?iiii?jjjj?kkkk?llll?mmmm?nnnn?oooo?pppp?qqqq?rrrr?ssss?tttt?uuuu?vvvv?wwww?xxxx?yyyy?zzzz?") == "aaaaabbbbbcccccdddddeeeeefffffggggghhhhhiiiiijjjjjkkkkklllllmmmmmnnnnnooooopppppqqqqqrrrrrssssstttttuuuuuvvvvvwwwwwxxxxxyyyyyzzzzz": {e}')
    
    total += 1
    try:
        result = candidate(s = "abacabadabacabadabacabadabacabad?") == "abacabadabacabadabacabadabacabade"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abacabadabacabadabacabadabacabad?") == "abacabadabacabadabacabadabacabade": {e}')
    
    total += 1
    try:
        result = candidate(s = "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz???") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabc"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz???") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabc": {e}')
    
    total += 1
    try:
        result = candidate(s = "zzzzzzzzzz???") == "zzzzzzzzzzabc"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "zzzzzzzzzz???") == "zzzzzzzzzzabc": {e}')
    
    total += 1
    try:
        result = candidate(s = "abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc???") == "abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcdef"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc???") == "abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcdef": {e}')
    
    total += 1
    try:
        result = candidate(s = "zzzzzzzzzzzz????????????") == "zzzzzzzzzzzzabcdefghijkl"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "zzzzzzzzzzzz????????????") == "zzzzzzzzzzzzabcdefghijkl": {e}')
    
    total += 1
    try:
        result = candidate(s = "???????????") == "abcdefghijk"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "???????????") == "abcdefghijk": {e}')
    
    total += 1
    try:
        result = candidate(s = "abcd?efg?hijk?lmn?opq?rstuvwxyz") == "abcdaefgbhijkclmndopqerstuvwxyz"
        if result:
            passed += 1
    except Exception as e:
        print(f'Error in candidate(s = "abcd?efg?hijk?lmn?opq?rstuvwxyz") == "abcdaefgbhijkclmndopqerstuvwxyz": {e}')
    
    accuracy = (passed / total * 100) if total > 0 else 0
    return passed, total, accuracy

def check(candidate):
    assert candidate(s = "aabbcc??") == "aabbccde"
    assert candidate(s = "abcabcabc???") == "abcabcabcdef"
    assert candidate(s = "a????b") == "acdefb"
    assert candidate(s = "a") == "a"
    assert candidate(s = "????????") == "abcdefgh"
    assert candidate(s = "abacabadabacaba") == "abacabadabacaba"
    assert candidate(s = "abcdefghijklmnopqrstuvwxyz?") == "abcdefghijklmnopqrstuvwxyza"
    assert candidate(s = "abc?de?") == "abcfdeg"
    assert candidate(s = "zzzz????") == "zzzzabcd"
    assert candidate(s = "a?????") == "abcdef"
    assert candidate(s = "??????????") == "abcdefghij"
    assert candidate(s = "aabbcc?") == "aabbccd"
    assert candidate(s = "???") == "abc"
    assert candidate(s = "????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????") == "aaaaaaaaabbbbbbbbbcccccccccdddddddddeeeeeeeeefffffffffggggggggghhhhhhhhhiiiiiiiiijjjjjjjjjkkkkkkkkklllllllllmmmmmmmmmnnnnnnnnnooooooooopppppppppqqqqqqqqqrrrrrrrrrssssssssstttttttttuuuuuuuuvvvvvvvvwwwwwwwwxxxxxxxxyyyyyyyyzzzzzzzz"
    assert candidate(s = "a????b????c????") == "adefgbhijkclmno"
    assert candidate(s = "a?a?") == "abac"
    assert candidate(s = "abc??") == "abcde"
    assert candidate(s = "z?y?x?w?v?u?t?s?r?q?p?o?n?m?l?k?j?i?h?g?f?e?d?c?b?a") == "zaybxcwdveuftgshriqjpkolnmmnlokpjqirhsgtfuevdwcxbya"
    assert candidate(s = "?????abc?????def?????ghi?????jkl?????mno?????pqr?????stu?????vwx?????yz?????") == "aabbcabccddeedefffgghghihiijjjklkkllmmnomnnoopqrppqqrsturssttvwxuuvvwyzwxxyz"
    assert candidate(s = "abc?def?ghi?") == "abcjdefkghil"
    assert candidate(s = "????????????????????????????????????????") == "aabbccddeeffgghhiijjkkllmmnnopqrstuvwxyz"
    assert candidate(s = "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzz???") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzzzzzzzzzzzzzzzzzzzabc"
    assert candidate(s = "zyxwvutsrqponmlkjihgfedcba????????") == "zyxwvutsrqponmlkjihgfedcbaabcdefgh"
    assert candidate(s = "a?b?c?d?e?f?g?h?i?j?k?l?m?n?o?p?q?r?s?t?u?v?w?x?y?z?") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz"
    assert candidate(s = "abcabcabcabcabcabcabcabcabcabc???") == "abcabcabcabcabcabcabcabcabcabcdef"
    assert candidate(s = "xyz?xyz?xyz?") == "xyzaxyzbxyzc"
    assert candidate(s = "a?????b?????c?????d?????e?????f?????g?????h?????i?????j?????k?????l?????m?????n?????o?????p?????q?????r?????s?????t?????u?????v?????w?????x?????y?????z?????") == "aaaaaabbbbbbccccccddddddeeeeeeffffffgggggghhhhhhiiiiiijjjjjjkkkkkkllllllmmmmmmnnnnnnooooooppppppqqqqqqrrrrrrssssssttttttuuuuuuvvvvvvwwwwwwxxxxxxyyyyyyzzzzzz"
    assert candidate(s = "abc?????def?????ghi?????") == "abcjklmndefopqrsghituvwx"
    assert candidate(s = "a?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?fa?b?c?d?e?f") == "agbgcgdhehfahbicidiejfajbjckdkekfalblcmdmenfanbocodpepfaqbqcrdresfasbtctdueufavbvcwdwexfaxbycydzezf"
    assert candidate(s = "aaaabbbbccccdddd????") == "aaaabbbbccccddddefgh"
    assert candidate(s = "aaaa?bbbb?cccc?dddd?eeee?ffff?gggg?hhhh?iiii?jjjj?kkkk?llll?mmmm?nnnn?oooo?pppp?qqqq?rrrr?ssss?tttt?uuuu?vvvv?wwww?xxxx?yyyy?zzzz?") == "aaaaabbbbbcccccdddddeeeeefffffggggghhhhhiiiiijjjjjkkkkklllllmmmmmnnnnnooooopppppqqqqqrrrrrssssstttttuuuuuvvvvvwwwwwxxxxxyyyyyzzzzz"
    assert candidate(s = "abacabadabacabadabacabadabacabad?") == "abacabadabacabadabacabadabacabade"
    assert candidate(s = "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz???") == "aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzabc"
    assert candidate(s = "zzzzzzzzzz???") == "zzzzzzzzzzabc"
    assert candidate(s = "abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabc???") == "abcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcabcdef"
    assert candidate(s = "zzzzzzzzzzzz????????????") == "zzzzzzzzzzzzabcdefghijkl"
    assert candidate(s = "???????????") == "abcdefghijk"
    assert candidate(s = "abcd?efg?hijk?lmn?opq?rstuvwxyz") == "abcdaefgbhijkclmndopqerstuvwxyz"


